<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fuzzington: The Hero of Paz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&family=Caprasimo&display=swap" rel="stylesheet">
    <style>
        :root {
            --paz-green: #4ade80;
            --magum-purple: #a855f7;
            --fear-grey: #64748b;
        }
        body {
            font-family: 'Quicksand', sans-serif;
            background-color: #000;
            color: #fff;
            margin: 0;
            overflow: hidden;
        }
        .story-heading { font-family: 'Caprasimo', cursive; }
        
        .page-container {
            height: 100vh;
            width: 100vw;
            display: flex;
            flex-direction: column;
            transition: transform 0.8s cubic-bezier(0.65, 0, 0.35, 1);
        }

        .spread {
            flex: 0 0 100vh;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Illustration Background Layer */
        .illustration-bg {
            position: absolute;
            inset: 0;
            background-size: cover;
            background-position: center;
            z-index: 1;
            filter: brightness(0.7);
        }

        /* Text Layer */
        .content-overlay {
            position: relative;
            z-index: 10;
            max-width: 800px;
            padding: 2rem;
            text-align: center;
            background: rgba(0,0,0,0.4);
            backdrop-filter: blur(8px);
            border-radius: 2rem;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .fuzz-power {
            display: inline-block;
            padding: 0.5rem 1rem;
            background: gold;
            color: black;
            font-weight: bold;
            border-radius: 99px;
            margin-top: 1rem;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .nav-btn {
            position: fixed;
            bottom: 2rem;
            padding: 1rem 2.5rem;
            border-radius: 99px;
            font-weight: 700;
            font-size: 1.25rem;
            cursor: pointer;
            z-index: 100;
            transition: all 0.2s;
        }
        .btn-next { right: 2rem; background: var(--paz-green); color: #064e3b; }
        .btn-prev { left: 2rem; background: rgba(255,255,255,0.2); color: white; }

        /* Art Director's Tooltips */
        .art-prompt {
            position: absolute;
            top: 1rem;
            left: 1rem;
            background: rgba(0,0,0,0.8);
            color: #fbbf24;
            padding: 0.5rem;
            font-size: 0.7rem;
            border-radius: 0.5rem;
            max-width: 200px;
            z-index: 50;
            opacity: 0.3;
        }
    </style>
</head>
<body>

    <div id="master-container" class="page-container">
        <!-- Pages will be injected here -->
    </div>

    <button id="prevBtn" class="nav-btn btn-prev" onclick="changePage(-1)" style="display:none">Back</button>
    <button id="nextBtn" class="nav-btn btn-next" onclick="changePage(1)">Begin</button>

    <script>
        const story = [
            {
                phase: "Ordinary World",
                title: "The Golden Song of Paz",
                text: "Fuzzington was small, very fluffy, and a little bit clumsy. In the Kingdom of Paz, he spent his days chasing sun-butterflies and listening to his father, Heshima, sing the songs of harmony.",
                art: "A vibrant, sun-drenched valley. Fuzzington is a tiny golden ball of fur with big curious eyes. Heshima is a large, regal creature with a mane like a sunset. Warm colors, soft textures.",
                bgColor: "linear-gradient(to bottom, #4ade80, #22c55e)"
            },
            {
                phase: "The Call to Adventure",
                title: "A Terrible Silence",
                text: "One morning, the song stopped. The colors of Paz began to fade into a cold, dusty grey. Lady Hofu‚Äîthe Witch of Fear‚Äîhad stolen Heshima's voice. 'Fuzzington,' Heshima whispered, 'the Ny-Gumi plant is the only cure... but the path is long.'",
                art: "The valley is turning grey. Heshima looks weak. High-angle shot showing Fuzzington looking very small against a vast, dark forest entrance.",
                bgColor: "linear-gradient(to bottom, #94a3b8, #475569)"
            },
            {
                phase: "Crossing the Threshold",
                title: "Into the Unknown",
                text: "Fuzzington took one last look at his warm bed and stepped into the Dark Woods. His knees knocked together. 'I am not brave,' he whispered. But his love for his father was bigger than his fear.",
                art: "Fuzzington‚Äôs foot stepping from bright grass onto dark, gnarled roots. Blue and purple shadows. His face shows determination through fear.",
                bgColor: "linear-gradient(to bottom, #1e1b4b, #0f172a)"
            },
            {
                phase: "Test 1: The Blue Eyes",
                title: "The Reindeer's Gift",
                text: "The woods grew pitch black. Fuzzington bumped into a Reindeer with glowing antlers. 'To see the truth in the dark, you must change how you look at the world,' the Reindeer said. Fuzzington closed his eyes and wished for light.",
                question: "What color do Reindeer eyes turn in winter to help them see in the dark?",
                options: ["Pink", "Blue"],
                correct: 1,
                power: "Night Vision! üëÅÔ∏è",
                art: "Dark forest lit by glowing blue reindeer antlers. Fuzzington‚Äôs eyes now glow with a soft blue light."
            },
            {
                phase: "Test 2: The Silent Walk",
                title: "The Alpaca's Secret",
                text: "Crunch! Snap! Fuzzington was too noisy! Lady Hofu‚Äôs shadow-birds were circling above. A fluffy Alpaca appeared. 'Walk like me,' she hummed. 'Softly, softly.'",
                question: "Alpacas don't have hard hooves. What do they have on their feet instead?",
                options: ["Soft Pads", "Iron Shoes"],
                correct: 0,
                power: "Silent Step! üë£",
                art: "Fuzzington treading carefully behind a graceful alpaca. The shadow-birds are high above in the mist."
            },
            {
                phase: "Rising Action: The Heat of Courage",
                title: "The Frozen Peak",
                text: "The path turned to ice. Fuzzington shivered until he met a great Polar Bear. 'Warmth comes from within,' the Bear rumbled. Fuzzington touched the Bear's thick coat and felt the sun's energy stored deep inside.",
                question: "Beneath the white fur, what color is a Polar Bear's skin to soak up the sun?",
                options: ["Black", "White"],
                correct: 0,
                power: "Inner Warmth! ‚òÄÔ∏è",
                art: "A blizzard. The Polar Bear is huge and comforting. Fuzzington looks warm and glowing against the white snow."
            },
            {
                phase: "The Climax",
                title: "The Gate of Jasiri",
                text: "At last, the Land of Magum! But Jasiri the Satyr Tragopan blocked the way. 'Many come for the plant,' she said. 'But only one who has learned the world's secrets can hold it.'",
                question: "Jasiri is a master of hiding. What do her spotted brown feathers help her do?",
                options: ["Fly like a plane", "Camouflage in the forest"],
                correct: 1,
                power: "The Ny-Gumi Plant! üåø",
                art: "Magical mountain gate. Jasiri is majestic and mysterious. Fuzzington stands tall, no longer clumsy, but ready."
            },
            {
                phase: "Resolution",
                title: "The Song Returns",
                text: "Fuzzington returned to Paz, not as a clumsy ball of fur, but as a Hero. He gave the plant to Heshima, and the Golden Song burst across the valley! Lady Hofu vanished like smoke in the wind.",
                art: "Heshima and Fuzzington hugging. The valley is erupting in colors‚Äîpinks, greens, and golds. Fuzzington looks older, wiser, and happy.",
                bgColor: "linear-gradient(to bottom, #fde047, #f59e0b)"
            }
        ];

        let currentPage = 0;
        const container = document.getElementById('master-container');

        function renderPage() {
            container.innerHTML = '';
            const data = story[currentPage];

            const page = document.createElement('div');
            page.className = 'spread';
            
            const bg = document.createElement('div');
            bg.className = 'illustration-bg';
            bg.style.background = data.bgColor || 'linear-gradient(to bottom, #1e293b, #020617)';
            
            const artPrompt = document.createElement('div');
            artPrompt.className = 'art-prompt';
            artPrompt.innerText = "üé® ILLUSTRATOR NOTE: " + data.art;

            const content = document.createElement('div');
            content.className = 'content-overlay';
            
            let interactiveHTML = '';
            if (data.question) {
                interactiveHTML = `
                    <div class="mt-6 bg-white/10 p-4 rounded-xl border border-white/20">
                        <p class="text-yellow-400 font-bold mb-3">Help Fuzzington Grow: ${data.question}</p>
                        <div class="flex justify-center gap-4">
                            ${data.options.map((opt, i) => `
                                <button onclick="handleAnswer(${i})" class="bg-white text-black px-4 py-2 rounded-lg font-bold hover:bg-yellow-400 transition-colors">
                                    ${opt}
                                </button>
                            `).join('')}
                        </div>
                    </div>
                `;
            }

            content.innerHTML = `
                <p class="text-sm font-bold tracking-widest text-yellow-500 uppercase mb-2">${data.phase}</p>
                <h1 class="story-heading text-4xl md:text-6xl mb-6 text-white">${data.title}</h1>
                <p class="text-xl md:text-2xl leading-relaxed text-gray-200">${data.text}</p>
                <div id="reward-zone"></div>
                ${interactiveHTML}
            `;

            page.appendChild(bg);
            page.appendChild(artPrompt);
            page.appendChild(content);
            container.appendChild(page);

            // Button Control
            document.getElementById('prevBtn').style.display = currentPage === 0 ? 'none' : 'block';
            document.getElementById('nextBtn').innerText = currentPage === 0 ? 'Start Adventure' : (currentPage === story.length - 1 ? 'Read Again' : 'Turn Page');
            
            // Lock next button if there's a question
            if (data.question) {
                document.getElementById('nextBtn').disabled = true;
                document.getElementById('nextBtn').style.opacity = '0.3';
            } else {
                document.getElementById('nextBtn').disabled = false;
                document.getElementById('nextBtn').style.opacity = '1';
            }
        }

        window.handleAnswer = function(idx) {
            const data = story[currentPage];
            if (idx === data.correct) {
                const zone = document.getElementById('reward-zone');
                zone.innerHTML = `<div class="fuzz-power">‚ú® Fuzzington gained: ${data.power}</div>`;
                document.getElementById('nextBtn').disabled = false;
                document.getElementById('nextBtn').style.opacity = '1';
            } else {
                alert("Almost! Look closer at the animals...");
            }
        };

        window.changePage = function(dir) {
            if (currentPage + dir >= 0 && currentPage + dir < story.length) {
                currentPage += dir;
                renderPage();
            } else if (currentPage + dir === story.length) {
                currentPage = 0;
                renderPage();
            }
        };

        renderPage();
    </script>
</body>
</html>
